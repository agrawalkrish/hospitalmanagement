<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Inpatient Records</title>
    <link rel="stylesheet" href="style.css" />

    <!-- CSS Global Compulsory -->
    <link
      rel="stylesheet"
      href="assets/plugins/bootstrap/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="assets/css/style.css" />

    <!-- CSS Header and Footer -->
    <link rel="stylesheet" href="assets/css/header.css" />
    <link rel="stylesheet" href="assets/css/footer.css" />

    <!-- CSS Implementing Plugins -->
    <link rel="stylesheet" href="assets/plugins/line-icons-pro/styles.css" />
    <link rel="stylesheet" href="assets/plugins/line-icons/line-icons.css" />
    <link
      rel="stylesheet"
      href="assets/plugins/font-awesome/css/font-awesome.min.css"
    />
  </head>
  <body>
    <!--=== Header v1 ===-->
    <div class="header-v1">
        <!-- Topbar -->
        <div class="topbar-v1">
          <div class="container">
            <div class="row">
              <div class="col-md-6">
                <ul class="list-inline top-v1-contacts">
                  <li>
                    <i class="fa fa-envelope"></i> Email:
                    unityhospital@gmail.com
                  </li>
                  <li><i class="fa fa-phone"></i> Contact no : 88666 00555</li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <!-- End Topbar -->

        <!-- Navbar -->
        <div class="navbar mega-menu" role="navigation">
          <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="res-container">
              <button
                type="button"
                class="navbar-toggle"
                data-toggle="collapse"
                data-target=".navbar-responsive-collapse"
              >
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <div class="navbar-brand">
                <a href="index.html">
                  <img src="assets/img/logo/unity_white.jpg" alt="Logo" />
                </a>
              </div>
            </div>
            <!--/end responsive container-->

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse navbar-responsive-collapse">
              <div class="res-container">
                <ul class="nav navbar-nav">
                  <!-- Collect the nav links, forms, and other content for toggling -->

                  <!-- Home  -->
                  <li class="mega-menu-fullwidth">
                    <a href="index.htm"> HOME </a>
                  </li>
                  <!-- End Home-->

                  <!-- About Us -->
                  <li class="mega-menu-fullwidth">
                    <a href="about.html"> ABOUT US </a>
                  </li>
                  <!-- End About us -->

                  <!-- Doctors -->
                  <li class="mega-menu-fullwidth">
                    <a href="doctors.htm"> DOCTORS </a>
                  </li>
                  <!-- End Doctors -->

                  <!-- Other Staffs -->
                  <li class="mega-menu-fullwidth">
                    <a href="staff.htm"> STAFF </a>
                  </li>
                  <!-- End Other Staffs -->

                  <!-- Gallery -->
                  <li class="mega-menu-fullwidth">
                    <a href="gallery.html"> GALLERY </a>
                  </li>
                  <!-- End Gallery -->

                  <!-- Patients -->
                  <li class="mega-menu-fullwidth">
                    <a href="patients.htm">PATIENTS</a>
                  </li>
                  <!-- End Patients -->

                  <!-- In Patients-->
                  <li class="mega-menu-fullwidth">
                    <a href="inpatientsrecord.htm"> IN</a>
                  </li>
                  <!-- End In Patients-->

                  <!-- Out Patients-->
                  <li class="mega-menu-fullwidth">
                    <a href="outpatients.htm"> OUT</a>
                  </li>
                  <!-- End Out Patients-->

                  <!--Priscribtion-->
                  <li class="mega-menu-fullwidth">
                    <a href="priscribtion.htm"> PRISCRIBTION</a>
                  </li>
                  <!-- End Priscribtion-->

                  <!-- Out labtests-->
                  <li class="mega-menu-fullwidth">
                    <a href="labtests.htm"> LABTESTS</a>
                  </li>
                  <!-- End Out labtests-->

                  <!-- Appointment -->
                  <li class="mega-menu-fullwidth">
                    <a href="appointments.htm"> BOOK APPOINTMENT </a>
                  </li>
                  <!-- End Appointment -->
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- End Navbar -->
    <h1>Inpatient Records Management</h1>
    <div class="contain">
      <div class="input-section">
        <!-- Form to Add New Inpatient Record -->
        <form id="addInpatientForm" onsubmit="addInpatient(event)">
          <label for="patient_id">Patient ID:</label>
          <input type="number" id="patient_id" required />

          <label for="admission_date">Admission Date:</label>
          <input type="date" id="admission_date" required />

          <label for="discharge_date">Discharge Date:</label>
          <input type="date" id="discharge_date" />

          <label for="room_number">Room Number:</label>
          <input type="text" id="room_number" required />

          <label for="ward">Ward:</label>
          <input type="text" id="ward" required />

          <label for="diagnosis">Diagnosis:</label>
          <textarea id="diagnosis" required></textarea>

          <label for="treatment_plan">Treatment Plan:</label>
          <textarea id="treatment_plan" required></textarea>

          <button type="submit">Add Inpatient Record</button>
        </form>
      </div>
      <div class="output-section">
        <!-- Table to Display Inpatient Records -->
        <table id="inpatientTable" border="1">
          <tr>
            <th>Inpatient ID</th>
            <th>Patient</th>
            <th>Admission Date</th>
            <th>Discharge Date</th>
            <th>Room Number</th>
            <th>Ward</th>
            <th>Diagnosis</th>
            <th>Treatment Plan</th>
          </tr>
        </table>
    </div>
</div>
<!--=== Footer ===-->
<div class="footer-v1">
    <div class="footer">
      <div class="container">
        <div class="row">
          <!-- About -->
          <div class="col-md-3" style="margin-bottom: 40px">
            <a href="index.html"
              ><img
                id="logo-footer"
                class="footer-logo"
                src="assets/img/logo/unity_white.jpg"
                alt=""
            /></a>
            <p>
              At Unity Hospital, we are convinced that 'quality' and 'lowest
              cost' are not mutually exclusive when it comes to healthcare
              delivery.
            </p>
            <p>
              Our mission is to deliver high quality, affordable healthcare
              services to the broader population in India.
            </p>
          </div>
          <!--/col-md-3-->
          <!-- End About -->

          <!-- Latest -->
          <div class="col-md-3" style="margin-bottom: 40px">
            <div class="posts">
              <div class="headline"><h2>Latest Posts</h2></div>
              <ul class="list-unstyled latest-list">
                <li>
                  <a href="blog.html">Incredible content</a>
                  <small>December 16, 2020</small>
                </li>
                <li>
                  <a href="gallery.html">Latest Images</a>
                  <small>December 16, 2020</small>
                </li>
                <li>
                  <a href="terms.html">Terms and Conditions</a>
                  <small>December 16, 2020</small>
                </li>
              </ul>
            </div>
          </div>
          <!--/col-md-3-->
          <!-- End Latest -->

          <!-- Link List -->
          <div class="col-md-3" style="margin-bottom: 40px">
            <div class="headline"><h2>Useful Links</h2></div>
            <ul class="list-unstyled link-list">
              <li>
                <a href="about.html">About us</a
                ><i class="fa fa-angle-right"></i>
              </li>
              <li>
                <a href="Contact.html">Contact us</a
                ><i class="fa fa-angle-right"></i>
              </li>
              <li>
                <a href="appointment.html">Book Appointment</a
                ><i class="fa fa-angle-right"></i>
              </li>
            </ul>
          </div>
          <!--/col-md-3-->
          <!-- End Link List -->

          <!-- Address -->
          <div class="col-md-3 map-img" style="margin-bottom: 40px">
            <div class="headline"><h2>Contact Us</h2></div>
            <address class="" style="margin-bottom: 40px">
              Unity Hospital <br />
              Ahmedabad, IN <br />
              Phone: 886 666 00555 <br />
              Email: unityhospital@gmail.com
            </address>
          </div>
          <!--/col-md-3-->
          <!-- End Address -->
        </div>
      </div>
    </div>
    <!--/footer-->

    <div class="copyright">
      <div class="container">
        <div class="row">
          <div class="col-md-6">
            <p>
              2020 &copy; All Rights Reserved.
              <a href="privacy.html">Privacy Policy</a> |
              <a href="terms.html">Terms of Service</a>
            </p>
          </div>

          <!-- Social Links -->
          <div class="col-md-6">
            <ul class="footer-socials list-inline">
              <li>
                <a
                  href="http://www.facebook.com"
                  class="tooltips"
                  data-toggle="tooltip"
                  data-placement="top"
                  title=""
                  data-original-title="Facebook"
                >
                  <i class="fa fa-facebook"></i>
                </a>
              </li>
              <li>
                <a
                  href="http://www.skype.com"
                  class="tooltips"
                  data-toggle="tooltip"
                  data-placement="top"
                  title=""
                  data-original-title="Skype"
                >
                  <i class="fa fa-skype"></i>
                </a>
              </li>
              <li>
                <a
                  href="http://www.googleplus.com"
                  class="tooltips"
                  data-toggle="tooltip"
                  data-placement="top"
                  title=""
                  data-original-title="Google Plus"
                >
                  <i class="fa fa-google-plus"></i>
                </a>
              </li>
              <li>
                <a
                  href="http://www.linkedin.com"
                  class="tooltips"
                  data-toggle="tooltip"
                  data-placement="top"
                  title=""
                  data-original-title="Linkedin"
                >
                  <i class="fa fa-linkedin"></i>
                </a>
              </li>
              <li>
                <a
                  href="http://www.Pinterest.com"
                  class="tooltips"
                  data-toggle="tooltip"
                  data-placement="top"
                  title=""
                  data-original-title="Pinterest"
                >
                  <i class="fa fa-pinterest"></i>
                </a>
              </li>
              <li>
                <a
                  href="http://www.twitter.com"
                  class="tooltips"
                  data-toggle="tooltip"
                  data-placement="top"
                  title=""
                  data-original-title="Twitter"
                >
                  <i class="fa fa-twitter"></i>
                </a>
              </li>
            </ul>
          </div>
          <!-- End Social Links -->
        </div>
      </div>
    </div>
    <!--/copyright-->
  </div>
  <!--=== End Footer ===-->
    <script>
      // Fetch and display all inpatient records when loading the page
      document.addEventListener("DOMContentLoaded", () => {
        fetch("http://localhost:3000/inpatientRecords")
          .then((response) => response.json())
          .then((data) => {
            const table = document.getElementById("inpatientTable");
            data.forEach((record) => {
              const newRow = table.insertRow();
              newRow.innerHTML = `
                            <td>${record.inpatient_id}</td>
                            <td>${record.patient_first_name} ${
                record.patient_last_name
              } (ID: ${record.patient_id})</td>
                            <td>${record.admission_date}</td>
                            <td>${record.discharge_date || "N/A"}</td>
                            <td>${record.room_number}</td>
                            <td>${record.ward}</td>
                            <td>${record.diagnosis}</td>
                            <td>${record.treatment_plan}</td>
                        `;
            });
          })
          .catch((error) =>
            console.error("Error fetching inpatient records:", error)
          );
      });

      // Function to handle form submission and add a new inpatient record
      function addInpatient(event) {
        event.preventDefault();

        const inpatientData = {
          patient_id: document.getElementById("patient_id").value,
          admission_date: document.getElementById("admission_date").value,
          discharge_date: document.getElementById("discharge_date").value,
          room_number: document.getElementById("room_number").value,
          ward: document.getElementById("ward").value,
          diagnosis: document.getElementById("diagnosis").value,
          treatment_plan: document.getElementById("treatment_plan").value,
        };

        fetch("http://localhost:3000/inpatientRecords", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify(inpatientData),
        })
          .then((response) => response.json())
          .then((data) => {
            console.log(data.message);

            // Append the new inpatient record to the table
            const table = document.getElementById("inpatientTable");
            const newRow = table.insertRow();
            newRow.innerHTML = `
                    <td>${data.inpatientId}</td>
                    <td>${inpatientData.patient_id}</td>
                    <td>${inpatientData.admission_date}</td>
                    <td>${inpatientData.discharge_date || "N/A"}</td>
                    <td>${inpatientData.room_number}</td>
                    <td>${inpatientData.ward}</td>
                    <td>${inpatientData.diagnosis}</td>
                    <td>${inpatientData.treatment_plan}</td>
                `;

            // Clear the form
            document.getElementById("addInpatientForm").reset();
          })
          .catch((error) =>
            console.error("Error adding inpatient record:", error)
          );
      }
    </script>
  </body>
</html>
